<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Detalle Solicitud</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
</head>
<body class="container mt-4">
    <h3>Detalle de Solicitud</h3>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Información General</h5>
            <p><strong>ID Solicitud:</strong> <span th:text="${solicitudes.idSolicitudImpresion}"></span></p>
            <p><strong>Funcionario:</strong> <span th:text="${solicitudes.funcionario.ID_Funcionario}"></span></p>
            <p><strong>Asignatura:</strong> 
                <span th:text="${solicitudes.asignatura.ID_Asignatura != null ? solicitudes.ID_Asignatura : '-'}"></span>
            </p>
            <p><strong>Curso:</strong> 
                <span th:text="${solicitudes.curso != null ? solicitudes.curso : '-'}"></span>
            </p>
            <p><strong>Fecha de Impresión:</strong> 
                <span th:text="${#dates.format(solicitudes.fechaImpresion, 'dd-mm-yyyy')}"></span>
            </p>
            <p><strong>Cantidad de Copias:</strong> 
                <span th:text="${solicitudes.cantidadCopias}"></span>
            </p>
            <p><strong>Estado:</strong> 
                <span th:text="${solicitudes.estado}"></span>
            </p>
        </div>

        <div class="card-footer">
            <h6>Archivo adjunto</h6>
            <p th:if="${solicitudes.nombreArchivo}">
                <a th:href="@{|/uploads/${#strings.substringAfterLast(solicitudes.rutaArchivo, '\\') }|}" 
                   th:text="${solicitudes.nombreArchivo}" target="_blank"></a>
            </p>
            <p th:if="${!solicitudes.nombreArchivo}">
                <em>No se adjuntó archivo.</em>
            </p>
        </div>
    </div>

    <a th:href="@{/profesor}" class="btn btn-secondary mt-3">Volver</a>
</body>
</html>
